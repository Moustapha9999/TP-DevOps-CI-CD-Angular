{"ast":null,"code":"import { Role } from '../model/role';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../pipe2/filter-role.pipe\";\nconst _c0 = function (a0, a1) {\n  return {\n    orange: a0,\n    vert: a1\n  };\n};\nfunction RoleComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 12)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function RoleComponent_tr_27_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteRole(p_r1.id));\n    });\n    i0.ɵɵtext(8, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function RoleComponent_tr_27_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.recharge(p_r1));\n    });\n    i0.ɵɵtext(10, \"Update\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, i_r2 % 2 === 0, i_r2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, p_r1.libelle));\n  }\n}\nexport class RoleComponent {\n  constructor() {\n    this.compteur = 0;\n    this.valueSearch = '';\n    this.role = {\n      'id': 0,\n      'libelle': ''\n    };\n    this.roles = [];\n  }\n  deleteRole(id) {\n    Swal.fire({\n      title: \"Etes vous sûre de vouloir supprimer ce role ?\",\n      showCancelButton: true,\n      confirmButtonText: \"Oui\",\n      cancelButtonText: \"Non\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        this.roles = this.roles.filter(a => a.id != id);\n      }\n    });\n  }\n  addRole() {\n    if (this.role.id == 0) {\n      if (this.role.libelle.length != 0) {\n        let u = new Role();\n        u.id = ++this.compteur;\n        u.libelle = this.role.libelle;\n        this.roles.push(u);\n        this.clear();\n        Swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"Role ajouté avec succès\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      } else {\n        alert(\"Veillez remplir les champs\");\n      }\n    } else {\n      this.roles.filter(a => a.id == this.role.id)[0] = this.role;\n      this.clear();\n    }\n  }\n  clear() {\n    this.role = {\n      'id': 0,\n      'libelle': ''\n    };\n  }\n  recharge(p) {\n    this.role = p;\n  }\n  static {\n    this.ɵfac = function RoleComponent_Factory(t) {\n      return new (t || RoleComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RoleComponent,\n      selectors: [[\"app-role\"]],\n      decls: 29,\n      vars: 7,\n      consts: [[1, \"col-md-8\", \"offset-2\", \"mt-5\"], [1, \"card\", \"mt-5\"], [\"align\", \"center\"], [1, \"card-header\"], [1, \"card-body\"], [\"for\", \"\"], [\"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"table\", \"table-bordered\", \"mt-5\"], [\"scope\", \"col\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n      template: function RoleComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"LISTES DES ROLES\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵtext(5, \"Formulaire\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Libelle\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function RoleComponent_Template_input_ngModelChange_9_listener($event) {\n            return ctx.role.libelle = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"br\");\n          i0.ɵɵelementStart(11, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function RoleComponent_Template_button_click_11_listener() {\n            return ctx.addRole();\n          });\n          i0.ɵɵtext(12);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"label\", 5);\n          i0.ɵɵelement(14, \"br\");\n          i0.ɵɵtext(15, \"Recherche\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function RoleComponent_Template_input_ngModelChange_16_listener($event) {\n            return ctx.valueSearch = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"table\", 9)(18, \"thead\")(19, \"tr\")(20, \"th\", 10);\n          i0.ɵɵtext(21, \"Id\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"th\", 10);\n          i0.ɵɵtext(23, \"Libelle\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"th\");\n          i0.ɵɵtext(25, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"tbody\");\n          i0.ɵɵtemplate(27, RoleComponent_tr_27_Template, 11, 8, \"tr\", 11);\n          i0.ɵɵpipe(28, \"filtreRole\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngModel\", ctx.role.libelle);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.role.id != 0 ? \"Modifier\" : \"Valider\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.valueSearch);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(28, 4, ctx.roles, ctx.valueSearch));\n        }\n      },\n      dependencies: [i1.NgClass, i1.NgForOf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.RequiredValidator, i2.NgModel, i1.UpperCasePipe, i3.FiltreRolePipe],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Role","Swal","i0","RoleComponent","constructor","deleteRole","id","fire","title","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","roles","filter","a","addRole","role","libelle","length","u","compteur","push","clear","position","icon","showConfirmButton","timer","alert","recharge","p","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\USER\\TP-DevOps\\src\\app\\role\\role.component.ts","C:\\Users\\USER\\TP-DevOps\\src\\app\\role\\role.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Role } from '../model/role';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-role',\r\n  templateUrl: './role.component.html',\r\n  styleUrls: ['./role.component.css']\r\n})\r\n\r\nexport class RoleComponent {\r\n  compteur = 0;\r\n  valueSearch:string = '';\r\n  role : Role = {\r\n        'id':0,\r\n        'libelle':''\r\n\r\n    }\r\n    roles : Role[] = [];\r\n\r\ndeleteRole(id:number) {\r\n    Swal.fire({\r\n      title: \"Etes vous sûre de vouloir supprimer ce role ?\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Oui\",\r\n      cancelButtonText: \"Non\"\r\n    }).then((result) => {\r\n\r\n      if (result.isConfirmed) {\r\n        this.roles = this.roles.filter((a)=> a.id != id);\r\n      }\r\n    });\r\n  }\r\n\r\naddRole(){\r\n    if(this.role.id == 0){\r\n      if(this.role.libelle.length!= 0  ){\r\n        let u = new Role();\r\n        u.id = ++this.compteur;\r\n        u.libelle = this.role.libelle;\r\n        this.roles.push(u);\r\n        this.clear();\r\n        Swal.fire({\r\n          position: \"top-end\",\r\n          icon: \"success\",\r\n          title: \"Role ajouté avec succès\",\r\n          showConfirmButton: false,\r\n          timer: 1500\r\n        });\r\n\r\n      }else{\r\n        alert(\"Veillez remplir les champs\");\r\n      }\r\n    }else{\r\n      this.roles.filter((a)=> a.id == this.role.id)[0] = this.role;\r\n      this.clear();\r\n\r\n    }\r\n\r\n  }\r\n  clear(){\r\n    this.role ={\r\n      'id':0,\r\n      'libelle':''\r\n\r\n  }\r\n}\r\nrecharge(p:Role){\r\n    this.role = p;\r\n  }\r\n\r\n}\r\n","<div class=\"col-md-8 offset-2 mt-5\">\r\n    <div class=\"card mt-5\">\r\n        <h1 align=\"center\">LISTES DES ROLES</h1>\r\n        <div class=\"card-header\">Formulaire</div>\r\n        <div class=\"card-body\">\r\n             <label for=\"\">Libelle</label>\r\n            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"role.libelle\" required>\r\n            <br>\r\n            <button class=\"btn btn-success\" (click)=\"addRole()\">{{this.role.id !=0 ? 'Modifier' : 'Valider'}}</button>\r\n        </div>\r\n    </div>\r\n    <label for=\"\"><br>Recherche</label>\r\n    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"valueSearch\">   \r\n    <table class=\"table table-bordered mt-5\">\r\n        <thead>\r\n        <tr>\r\n            <th scope=\"col\">Id</th>\r\n            <th scope=\"col\">Libelle</th>\r\n            <th>Actions</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let p of roles | filtreRole:this.valueSearch; index as i\" [ngClass]=\"{orange:i%2===0,vert: i}\">\r\n               \r\n                <td>{{p.id}}</td>\r\n                <td>{{p.libelle |uppercase}}</td>\r\n                <td>\r\n                    <button class=\"btn btn-danger\" (click)=\"deleteRole(p.id)\">Delete</button>\r\n                    <button class=\"btn btn-primary\" (click)=\"recharge(p)\">Update</button>\r\n                        </td>\r\n              \r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}